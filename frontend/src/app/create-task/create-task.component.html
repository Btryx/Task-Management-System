<div class="container">
  <form (ngSubmit)="addTask()">
    <mat-card id="add-task-card">
      <h1>Create New Task</h1>
      <mat-card-content class="content">
        <mat-form-field appearance="legacy" class="input-field">
          <mat-label>Task Title</mat-label>
          <input matInput [(ngModel)]="newTask.taskTitle" name="title" required maxlength="100">
          <mat-hint align="end">{{newTask.taskTitle?.length || 0}}/100</mat-hint>
        </mat-form-field>

        <mat-form-field appearance="legacy" class="input-field">
          <mat-label>Status</mat-label>
          <mat-select [(ngModel)]="newTask.taskStatus" name="status" required>
            <mat-option [value]="TaskStatus.TODO">
              <span class="status-option">
                <span>{{TaskStatus.TODO}}</span>
              </span>
            </mat-option>
            <mat-option [value]="TaskStatus.IN_PROGRESS">
              <span class="status-option">
                <span>{{TaskStatus.IN_PROGRESS}}</span>
              </span>
            </mat-option>
            <mat-option [value]="TaskStatus.FINISHED">
              <span class="status-option">
                <span>{{TaskStatus.FINISHED}}</span>
              </span>
            </mat-option>
            <mat-option [value]="TaskStatus.DUE">
              <span class="status-option">
                <span>{{TaskStatus.DUE}}</span>
              </span>
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="legacy" class="input-field">
          <mat-label>Priority</mat-label>
          <mat-select [(ngModel)]="newTask.taskPriority" name="pri" required>
            <mat-option *ngFor="let priority of [1,2,3,4,5]" [value]="priority">
              <div class="priority-option">
                {{priority}}
                <div class="priority-dots">
                  <span class="priority-dot" *ngFor="let dot of [].constructor(priority)"></span>
                </div>
              </div>
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="legacy" class="input-field">
          <mat-label>Deadline</mat-label>
          <input matInput type="date" name="date" [(ngModel)]="newTask.taskDate" required>
        </mat-form-field>

        <mat-form-field appearance="legacy" class="input-field">
          <mat-label>Description</mat-label>
          <textarea matInput name="desc" [(ngModel)]="newTask.taskDesc" maxlength="300" required rows="2"></textarea>
          <mat-hint align="end">{{newTask.taskDesc?.length || 0}}/300</mat-hint>
        </mat-form-field>
      </mat-card-content>

      <mat-card-actions>
        <div class="actions-container">
          <button mat-button type="submit" style="background: grey">
            <mat-icon>add_task</mat-icon>
            SUBMIT
          </button>
          <button mat-button (click)="goBack()" style="background: grey">
            <mat-icon>arrow_back</mat-icon>
            BACK
          </button>
        </div>
      </mat-card-actions>
    </mat-card>
  </form>
</div>
